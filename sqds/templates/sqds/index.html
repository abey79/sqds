{% extends 'sqds/base.html' %}

{% load render_table from django_tables2 %}
{% load bootstrap3 %}

{% block title %}
PREPARE FTW
{% endblock %}


{% block content %}

  <div class="row">

    <div class="col-md-3">
      <div class="panel panel-default">
        <div class="panel-heading">Quick action</div>
        <div class="panel-body">
          <p>Inspect <a href="{% url 'sqds:guild' 'G2737841003' %}">PREPARE</a>.</p>
          <div>
            <script type="text/javascript">
                function setPlayerFormAction() {
                    var my_form = document.getElementById('player_form');
                    var ally_code = document.getElementById('ally_code').value.replace(/\D/g, '');
                    my_form.action = "/player/" + ally_code + "/"
                }
            </script>
            Inspect new player:
            <form id="player_form" method="GET" class="form-inline" onsubmit="setPlayerFormAction()">
              <label class="sr-only" for="ally_code">Ally code</label>
              <input type="text" class="form-control" id="ally_code" placeholder="XXX-XXX-XXX" />
              <button type="submit" class="btn btn-default">Go</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="panel panel-default">
        <div class="panel-heading">Guilds</div>
        <div class="panel-body">
          <ul>
            {% for guild in guilds %}
              <li><a href="{% url 'sqds:guild' guild.api_id %}">{{ guild.name }}</a></li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>

    <div class="col-md-3">
      <div class="panel panel-default">
        <div class="panel-heading">Release notes</div>
        <div class="panel-body">
          <p><b>20-June-2019</b></p>
          <ul>
            <li>Added a conspicuous "Separatist GP" column to the guild view.</li>
            <li>Massive optimisation of the guild page loading time.</li>
          </ul>
          <p><b>02-June-2019</b></p>
          <ul>
            <li>Link to all of the guild's units made more obvious</li>
            <li>Added link to various unit guild ranking (e.g fat Nest, etc.)</li>
            <li>All of PREPARE data is now updated every 4 hours</li>
            <li>Added mod info to unit page</li>
          </ul>
          <p><b>28-May-2019</b></p>
          <ul>
            <li>Initial release</li>
            <li>Guild/player/unit views</li>
            <li>Player v. Player comparison</li>
            <li>Inspect any player based on ally code</li>
          </ul>

          <p><b>TO DO (incomplete/short term list):</b></p>
          <ul>
            <li>Add Guild v. Guild comparison</li>
            <li>Add key unit comparison to Player v. Player comparison</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
